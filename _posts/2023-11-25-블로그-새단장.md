---
title:  "깃허브 블로그 커스터마이징하기"

categories: [블로그]
tags: [깃허브, 블로그, Github, Chirpy, Blog]

toc: true
toc_sticky: true

date: 2023-11-25
last_modified_at: 2023-12-12
---

# **한동안**

새 글이 없었습니다. 할 일이 있었기 때문인데요. 돌이켜보면 엄청나게 중요한 일이 있었던 것은 아닌데, 어느 순간 블로그가 뒷전이 되어버려서 "뭐라도 써야지..." 하는 상태로 반 년 넘게 흘렀습니다.  
그동안 완전히 방치했던 것은 아니고 개발 경험이나 책, 영화 리뷰를 주제로 간단한 글을 쓰긴 했는데, 다시 읽었을 때 별로라고 생각되는 글들을 개인 보관소로 옮기다보니 많이 허해졌네요. 시간이 지나고 연말이 되고 하던 일이 마무리되고 있어서 이전에 작성해둔 글도 수정하고 블로그를 유지보수하러 왔습니다.

# **블로그 새단장 했습니다**

![new-blog-files](/assets/img/2023-11-25-blog-customization/new-blog-files.png){: .w-50 .right .shadow }

깃허브 블로그를 개설한지 1년이 넘었습니다. 이제는 글을 몇 번 써보면서 마크다운을 제법 편하게 다룰 수 있을 정도로 익숙해졌습니다.

그런데 그 사이에 [Chirpy 템플릿이 꾸준히 업데이트되었나 봅니다.](https://github.com/cotes2020/jekyll-theme-chirpy) 그새 버전이 **6.3.1**로 올라갔습니다. 새단장을 한 테마를 살펴보니 메인 페이지의 포스트에 미리보기 이미지를 띄우는 기능이 생겼고, 전체적으로 색감이 정갈하게 다듬어졌다는 점이 눈에 띕니다.

업데이트하면서 발견한 것이 하나 있는데, 제가 "Chirpy starter" 방식으로 블로그를 개설했다는 점입니다. 이 방식은 블로그 개설과정은 간단하지만 블로그 커스터마이징을 상당히 제한합니다.  
일반적으로 자주 사용하는 티스토리나 네이버 블로그 대신에 깃허브 블로그를 개설한 이유가 폭넓은 커스터마이징이 가능하다는 장점이 있기 때문이었는데, 의미가 퇴색된 느낌입니다. 빠르게 공식 페이지에서 안내하고 있는 "GitHub Fork" 방식으로 변경해주었습니다.

이 방식으로 블로그를 다시 개설하니 파일 개수가 확연히 많아졌습니다. 새로 생긴 `_includes`{: .filepath }, `_javascript`{: .filepath }, `_layouts`{: .filepath }, `_sass`{: .filepath } 폴더를 확인해보니 저장되어 있는 자바스크립트, CSS 파일을 수정하여 블로그 페이지 구성요소를 직접 편집할 수 있도록 되어있어서 몇 가지를 만져줬습니다.

### **글씨 크기 수정**

지금까지 신경쓰였던 것 중 하나는 글씨 크기가 살짝 크다는 것이었습니다. 글씨 크기를 어떻게 수정하는지 잘 모르기도 했고 기능적으로 불편한 것도 아니었기 때문에 지금까지는 그려러니 하고 넘겼지만, 이번에 블로그 새단장을 한 김에 수정하기로 했습니다.  
포스트의 글 속성은 `_scss/addon/commons.scss`{: .filepath }의 `.content` 선택자가 담당하는 식으로 되어 있었고, `_scss`{: .filepath }폴더의 CSS 파일은 모두 `assets/css/jekyll-theme-chirpy.scss`{: .filepath }로 `@import`되고 있어 이 파일에 `font-size` 값을 0.98정도로 주었습니다.

```css
/* assets/css/jekyll-theme-chirpy.scss */

.content {
  font-size: 0.98rem;
}
```

### **단락 간격 조정**

마찬가지로 `assets/css/jekyll-theme-chirpy.scss`{: .filepath }에서 단락 간격도 수정해주었습니다. 기본값은 1.25rem 정도로 잡혀 있던 것 같은데, 티스토리나 네이버 등 타 블로그 플랫폼과 비교했을 때 글이 너무 빽빽하고 읽기 힘들다는 느낌이 들어 1.5rem 정도로 늘렸습니다.

```css
/* assets/css/jekyll-theme-chirpy.scss */

p {
  margin-top: 1.5rem;
}
```

### **Footer 제거**

![footer-remove](/assets/img/2023-11-25-blog-customization/footer-remove.png){: .shadow }

순정 Chirpy 테마는 블로그 하단에 왼쪽의 'ⓒ {년도} {이름} 일부 권리 보유'와 오른쪽의 'Powered by Jekyll with Chirpy theme'라는 Footer를 생성합니다. 이중 오른쪽 Footer는 특히 의미가 있는 정보가 아니므로 삭제해 주었습니다. Footer를 생성하는 코드를 찾아 주석처리했네요.

{% raw %}
```html
<!-- _includes/Footer.html -->

<p>
    {%- capture _platform -%}
        <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>
    {%- endcapture -%}

    {%- capture _theme -%}
        <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a>
    {%- endcapture -%}

    {{ site.data.locales[include.lang].meta | replace: ':PLATFORM', _platform | replace: ':THEME', _theme }}
</p>
```
{% endraw %}

### **포스트 네비게이션 제거**

![post-nav](/assets/img/2023-11-25-blog-customization/post-nav.png){: .shadow }
_포스트 네비게이션. "이전 글"과 "다음 글"로 유저를 안내하고 있다._

포스트 네비게이션은 게시글의 가장 아래에서 현재 글이 작성되기 바로 이전의 글과 다음의 글로 연결하는 기능인데, 개인적으로는 왜 있는지 의문입니다. 단순히 시간선상에서 가장 연관성이 있다고 노출을 시키기에는 글 주제가 연관이 없기 때문이죠. 오히려 페이지 하단을 난잡하게 만드는 것 같아 "관련된 글" 섹션만 남기려고 합니다. 포스트 네비게이션과 관련된 코드를 모두 주석처리했습니다.

{% raw %}
```html
<!-- _includes/post-nav.html -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  ...
</nav>
```
{% endraw %}

### **사이드바 배경색 수정**

사이드바의 배경 색을 수정하고 싶은데, 바로 `background-color` 속성을 사용했다간 색상이 다크모드 여부에 상관없이 고정됩니다. 제가 원하는 것은 라이트모드 전용 색상은 그대로 놔두고 다크모드의 색상만 변경하는 것인데, 다행히 Chirpy 테마는 `_sass/colors`{: .filepath } 경로에 다크모드용 `typography-dark.scss`{: .filepath }를 라이트모드용과 구분하고 있어 이 파일에서 다크모드시 사이드바 배경색을 **#1D1D1E**정도로 변경했습니다.

```scss
/* _sass/colors/typography-dark.scss */

--sidebar-bg: #1D1D1E;
```

### **TOC 수정**

Chirpy 테마는 기본적으로 TOC(Table Of Contents)를 지원합니다. TOC으로 내가 지금 게시글의 어느 지점을 읽고 있는지 확인할 수 있고, 바로가기 기능이 지원되기 때문에 원하는 부분으로 빠르게 이동할 수 있는 등 유용한 기능이기는 하지만, 문제는 테마를 업데이트하면니 작동 방식이 불편하게 바뀌었다는 겁니다.

정확히 어느 버전부터 이렇게 변경되었는지는 모르겠지만, 이전에는 h1 부터 목차를 생성해주던 것이 이제는 h2 이하의 태그가 있어야 목차를 생성해줍니다. 이유야 있겠지만, 개인적으로 별로라고 생각해서 원래대로 수정해 주었습니다. 코드가 길어 변경한 부분만 작성했습니다.

```js
/* assets/js/dist/post.min.js */

document.querySelector("main h1")&&tocbot.init({tocSelector:"#toc",contentSelector:".content",ignoreSelector:"[data-toc-skip]",headingSelector:"h1, h2, h3",orderedList:!1,scrollSmooth:!1})
```

```js
/* _javascript/modules/components/toc.js */

export function toc() {
  if (document.querySelector('main h2')) {
    // see: https://github.com/tscanlin/tocbot#usage
    tocbot.init({
      tocSelector: '#toc',
      contentSelector: '.content',
      ignoreSelector: '[data-toc-skip]',
      headingSelector: 'h1, h2, h3',
      orderedList: false,
      scrollSmooth: false
    });
  }
}
```

```liquid
<!-- _includes/js-selector.html -->

{% if page.content contains '<h1' or page.content contains '<h2' or page.content contains '<h3' and site.toc and page.toc %}
  {% assign urls = urls | append: ',' | append: site.data.origin[type].toc.js %}
{% endif %}
```

<br>

# **마치며**

![post-push](/assets/img/2023-11-25-blog-customization/post-push.png)
_워크플로우에 걸리는 시간이 2m 내외로 줄어들었다!_

이유는 모르겠지만 블로그 테마를 업데이트하니 푸시 이후 글이 블로그에 실제로 반영되기까지 걸리는 시간이 상당히 줄었습니다! 오래걸릴 때는 10분 가까이 걸렸는데, 이제 2분정도 기다리면 반영이 되네요.

이외에도 트위터 아이콘을 제거한다거나, 한국어 문장에서 단어기준 줄넘김을 적용한다거나 시도해본 것은 많은데, 아이콘 중앙정렬이 안 되고 왼쪽으로 쏠린다던가, 글 문단이 못생겨진다던가 하는 아쉬움이 있어 적용하진 않았습니다. 다음에 또 생각이 들면 다시 시도해봐야겠습니다.