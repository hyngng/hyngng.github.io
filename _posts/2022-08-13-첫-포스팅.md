---
title:  "깃허브 블로그에 Chirpy 테마 적용하기"

categories: [블로그]
tags: [깃허브, 블로그, Github, blog]

toc: true
toc_sticky: true
 
date: 2022-08-13
last_modified_at: 2022-08-13
---

<br>

# 이틀간의 생고생 끝에 깃허브 블로그를 개설했다.

템플릿을 적용하는 것이 난관이었다.  
문제가 된 것이 Chirpy라는 이름의 템플릿인데, 대체제는 많았지만 Chirpy 템플릿의 심미성이 너무 좋아 꼭 쓰고 싶었고 마침내 성공적으로 적용했다. 구글링으로 정보를 찾아봐도 국내의 정보로는 해결이 힘든 부분이 있었으므로, Chirpy 템플릿 적용에 도움이 된 글과 방법을 정리하여 작성해 둔다.  

Chirpy 템플릿은 [공식 깃허브 페이지](https://github.com/cotes2020/jekyll-theme-chirpy/)를 통해 다운받을 수 있다.  

<br>

---

<br>

# 1. layout: home # index page 오류

가장 먼저, 많이 만나게 되는 오류다. 해결하기 위해서는 Git Bash으로 블로그 파일이 위치한 경로로 이동한 뒤,  

```bash
bash tools/init.sh
```

위의 명령어를 입력하면 몇 가지 초기화 작업이 수행되고 `_Initialization successful!_`이 출력되며 해결된다.

<br>

---

<br>

# 2. gh-pages 브랜치의 누락

Chirpy 템플릿을 적용한 사람들이 함께 강조한 것 중 하나는 브랜치(Branch) 세팅을 gh-pages로 설정하라는 것이었으나, 실제로 확인 가능한 브랜치 옵션에는 main밖에 없었다. 이런 경우에는 gh-pages 브랜치를 직접 설치해 주어야 한다.  

```bash
git branch gh-pages  
git push origin gh-pages
```

커맨드 창에 위의 두 개 명령어를 입력하면 해결된다.

<br>

---

<br>

# 3. pages-deploy.yml 파일 수정

`.github/workflows`{: .filepath} 경로에 있는 `pages-deploy.yml` 파일 내역을 일부 수정해야 한다.  

```bash
runs-on: windows-latest
ruby-version: 3.1.2 (ruby -v를 통해 확인 가능함)
```

기본값이 `ubuntu-latest`로 설정되어 있으므로, 윈도우 환경에서 작업하는 경우 이를 windows로 바꿔주어야 한다. 루비 버전 또한 `ruby -v` 명령어로 확인되는 내역과 동일하게 수정해주어야 한다. 내용을 모두 알맞게 수정했다면 이 문제도 해결된다.

<br>

---

<br>

# 4. 빌드 단계에서의 오류

![BuildError](https://user-images.githubusercontent.com/96360829/185293821-ce829e83-0b93-4998-b7be-2fffaf9d20c0.png){: .shadow }

나의 경우에는, 템플릿이 푸쉬 후 빌드되는 도중 빌드가 실패되었다며 위의 문구를 여러 차례 만날 수 있었다. 파일을 수정하고, 그냥 다시 푸쉬도 해보고, 처음부터도 다시 차근차근 따라해 보면서 스무 번은 넘게 이 오류를 본 것 같다.

해결방안은 다름아닌 [Chirpy 깃허브 페이지/issues 창에서 글을 뒤지다보니](https://github.com/cotes2020/jekyll-theme-chirpy/issues/465) 찾을 수 있었는데, 아래와 같이 `tools/deploy.sh`{: .filepath } 파일의 쉘 스크립트 내용을 수정해야 한다는 것이다.

```bash
main() {
  init
  build
  test <-- 이 항목을 삭제해 주어야 한다
  resume_site_dir

  if $_opt_dry_run; then
    exit 0
  fi

  setup_gh
  backup
  flush
  deploy
}
```

스크립트에 작성된 코드 중에 있는 `main()`함수의 항목 중 "test"를 지우면 해결된다.

<br>

---

# 참고
[Chirpy 공식 레퍼런스](https://chirpy.cotes.page/)