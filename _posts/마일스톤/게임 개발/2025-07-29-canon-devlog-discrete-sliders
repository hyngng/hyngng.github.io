---
image:
    path: /2025-07-12-canon-planning/preview-image.webp
    lqip: data:image/webp;base64,UklGRkYAAABXRUJQVlA4IDoAAACwAQCdASoQAAgAAUAmJaQAAtrhz8SAAP7+iKQXo5XPAFYHsGXQIf86Ki+SWy2NwKTSw4qdpXZuAAAA
    alt: "정말 오랜만이다!"

title: "모바일 타워디펜스 개발일지: 분할 슬라이더와 알람창 만들기"

categories: [마일스톤, 게임 개발]
tags: [마일스톤, 게임 개발, 유니티, C#, 기획, 개발일지]
start_with_ads: true

toc: true
toc_sticky: true

date: 2025-07-29 13:17:00 +0900
last_modified_at: 2025-07-29 13:17:00 +0900
---

### **분할 슬라이더**

![test7](슬라이더 컴포넌트){: .w-25 }
_분할 슬라이더_

게임 곳곳에 사용할 슬라이더입니다. 설정창에서도 사용하고, 플레이 진입 전 난이도 설정 단계에서도 여러 차례 사용할 예정입니다. 단, 슬라이더의 기능은 환경에 맞추어 다르게 제공됩니다.

원래는 백지상태에서 모든걸 직접 만들려고 했는데, 유니티에서 기본적으로 제공하는 슬라이더에 Whole numbers로 분할 슬라이더를 간단히 구현할 수 있음을 발견했습니다. 그래서 기존의 슬라이더 클래스를 상속하는 `DiscreteSliders.cs`를 만들었고, 제가 원하는 기능읃 다음과 같습니다.

흔하고 뻔한 슬라이더에 대한 내용을 별도의 단락을 할당해가면서 적는 이유는 기존과 다르게 이를 재사용에 초점을 맞추어 설계하고 있기 때문입니다. 아예 이 게임에 대한 내용을 완전 까먹은 나중의 저조차 쉽게 사용할 수 있을 정도로, 또는 이를 에셋으로 배포해도 이상하지 않을 정도로 독립된 객체로서 유연하게 대응할 수 있게 만드는 것이 목표입니다.

려던 찰나, 유니티에서 기본적으로 제공하는 슬라이더에 Whole numbers로 분할 슬라이더를 간단히 구현할 수 있음을 발견했습니다. 슬라이더 객체를 처음부터 새로 설계하기보다는 유니티가 제공하는 `Sliders.cs`를 수정해서 사용하려고 합니다. 제가 원하는 기능읃 다음과 같습니다.

- `UIDiscreteSlider.cs`
- `UIDiscreteSliderAction.cs`
- `UIDiscreteSliderEditor.cs`
- `UISliderLabelData.cs`

- 화면에 표시될 값과, 실제 설정된 값을 딕셔너리로 관리합니다.
- 슬라이더 의존도를 처음 써봄. Slider를 상속하는 클래스는 Event가 추가가 안 되더라. 
- `Reset()`도 처음 써봄.

### **알람 패널**

![test7](/2025-07-12-canon-planning/test7.webp){: .w-25 }
_예시 알람 패널_

게임 플레이 도중의 정보 전달을 맡을 객체입니다. 모바일 OS의 상단 패널에서 기대할 수 있는 알람과 비슷한 모습이지만, 발상과 모티브는 배틀필드의 피드백 UI, 그리고 여러 웹페이지에서 인용되는 알람 컴포넌트 개념에서 따왔습니다. `info`, `tooltip`, `warning`, `danger` 구분과 비슷하게 알람은 등급에 따라 구별되며, 알람은 일정 시간이 지나면 사라집니다. 보다 세부적으로는 다음의 규칙을 따라갑니다.

- 스택과 같이 선입선출을 원칙으로 관리되며 화면에 표시되는 알람은 최대 3개로 제한됩니다.
- 어떤 알람은 중요하게 취급되어 선입선출 원칙을 무시하고 더 하위에 표시됩니다.
- 알람은 항상 첫 번째 레이어에 위치하며 다른 UI에 가려지지 않고 우선적으로 표시됩니다.

관리를 위해 세 가지 클래스 `UINotification`와 `UINotificationPanel`, `NotificationEventChannelSO`를 이용할 생각입니다. 알람은 사진으로 제시된 예시 이외에도 여럿 있을 수 있으므로 알람에 대한 정보는 인스턴스나 프리팹으로 사전에 미리 존재한다기보다는, 알람을 호출하는 객체가 그때그때 정보를 제시하는 형태가 될 것이고 이 과정은 이벤트 주도적 프로그래밍과 스크립터블 오브젝트를 통해 구현할 예정입니다.

- ScriptableObject로 라벨 데이터를 관리합니다. 이 오브젝트는 Label과 Value 값을 가지는 객체 리스트로 관리됩니다.

## **UI 최적화**

- UI 레이아웃 작업: 패널 나누기
- 최소높이 확보하기