---
title:  "[유니티] 진동 울리기"

categories: [프로그래밍, 유니티]
tags:
  - [유니티, 안드로이드]

toc: true
toc_sticky: true
 
date: 2023-02-22
last_modified_at: 2023-02-22
---

<br>

![220605676-807bb9cc-04f1-4ea5-a2d9-287cab3dfe75](https://user-images.githubusercontent.com/96360829/223396553-bffb532a-fe0c-453d-8b2c-4c228995b4a1.png)

AndroidManifest.xml 파일을 수정하기 전에, 유니티 프로젝트의 Build Setting > Project Setting에서 Custom Main Manifest 항목에 체크를 해 주어야 한다.  

<br>

체크가 완료되었다면, 유니티에서 프로젝트 빌드를 해 주자.  
빌드가 완료되면 Assets\Plugins\Android 경로에 AndroidManifest XML 파일이 생성되는데, 파일 내부의 <application> 태그가 끝나는 지점에 다음의 코드 한 줄을 추가해주면 어플리케이션 차원에서 진동권한을 요청 및 사용 가능하다.  

```html
  <uses-permission android:name="android.permission.VIBRATE" />
```

갓 생성한 순정 AndroidManifest.xml 파일에 정상적으로 위의 코드를 추가했을 경우 다음과 같은 모습이 된다.  

```html
<?xml version="1.0" encoding="utf-8"?>
<manifest
    xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.unity3d.player"
    xmlns:tools="http://schemas.android.com/tools">
    <application>
        <activity android:name="com.unity3d.player.UnityPlayerActivity"
                  android:theme="@style/UnityThemeSelector">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
            <meta-data android:name="unityplayer.UnityActivity" android:value="true" />
        </activity>
    </application>
    <uses-permission android:name="android.permission.VIBRATE" />
</manifest>
```

코드 추가가 완료되었다면 C# 스크립트 상의 Vibrate()함수를 통해 진동을 구현할 수 있다.  

<br>

```cs
Vibration.Vibrate((long)1000);
```

<br>

위의 코드는 1초 동안 진동을 울리라는 것으로, 함수 내의 인자값을 수정하면 진동이 울리는 시간을 조절할 수 있다.  
예를 들어 개인적으로는 0.01초 짧은 진동 효과가 톡톡 치고 가는 것 같아 마음에 드는데, 이 경우 다음처럼 작성하면 된다.  

<br>

```cs
Vibration.Vibrate((long)10);
```

<br>

---
<h2><b>참고</b></h2>

[Handheld.Vibrate](https://docs.unity3d.com/ScriptReference/Handheld.Vibrate.html)